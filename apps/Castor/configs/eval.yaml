# python -m apps.Castor.generate config=apps/Castor/configs/eval.yaml
name: "debug_evals"
stage: eval
ckpt_dir: "/mnt/pollux/checkpoints/chandan/fixed_dinov2_noalign/checkpoints/0000005000"
dump_dir: "/mnt/pollux/checkpoints/haozhe/qwen2_5_vl_flux_dynamic_max_ratio_1.0/MJHQ/0000040000"
generator:
  guidance_scale: 6.5
  dtype: bf16
  resolution: 256
  show_progress: False
  inference_steps: 50
  vae_scale_factor: 8.0
  tvae:
    vae_type: flux
    pretrained_model_name_or_path: '/mnt/pollux/checkpoints/FLUX.1-dev/vae'
    enable_tiling: false
    enable_slicing: false
data:
  - stage: eval
    id: 1
    data_name: gen-eval
    task: latent_text_to_image
    source: mongodb
    partition_key: 'partition_key'
    mapping_field:
        "caption": "caption"
    use: False
    dataloader:
        batch_size: 64
        num_workers: 2
        seed: 1024
        shuffle: False
        pin_memory: False
        drop_last: False
  - stage: eval
    id: 2
    data_name: dpg-bench
    task: latent_text_to_image
    source: mongodb
    partition_key: 'partition_key'
    mapping_field:
        "caption": "caption"
    use: False
    dataloader:
        batch_size: 64
        num_workers: 2
        seed: 1024
        shuffle: False
        pin_memory: False
        drop_last: False
  - stage: eval
    id: 3
    data_name: MJHQ-30k
    task: latent_text_to_image
    source: mongodb
    partition_key: 'partition_key'
    mapping_field:
        "caption": "caption"
    use: True
    dataloader:
        batch_size: 64
        num_workers: 2
        seed: 1024
        shuffle: False
        pin_memory: False
        drop_last: False
  - stage: eval
    id: 3
    data_name: GenAI-Bench-1600
    task: latent_text_to_image
    source: mongodb
    partition_key: 'partition_key'
    mapping_field:
        "caption": "caption"
    use: False
    dataloader:
        batch_size: 64
        num_workers: 2
        seed: 1024
        shuffle: False
        pin_memory: False
        drop_last: False
  - stage: eval
    id: 3
    data_name: parti-prompts
    task: latent_text_to_image
    source: mongodb
    partition_key: 'partition_key'
    mapping_field:
        "caption": "caption"
    use: False
    dataloader:
        batch_size: 64
        num_workers: 2
        seed: 1024
        shuffle: False
        pin_memory: False
        drop_last: False